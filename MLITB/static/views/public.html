<div class="container">
    <div class="row">
        <div class="col-lg-12">

            <div ng-hide="nn">

              <p>Welcome to the Machine Learning in the Browser NIPS 2014 demo.</p>
              <p>Click start below to begin.</p>
              <p>You can find us at <a href="https://github.com/software-engineering-amsterdam/MLitB/">https://github.com/software-engineering-amsterdam/MLitB/</a></p>
              <p> Additional blah.</p>

              <button type="button" ng-click="start()" class="btn btn-success btn-lg">
                <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                Start
              </button>

            </div>

            <div ng-show="nn">

              <h4>Network: {{ nn.name }} </h4>

              <p>Network error: {{ nn.error }}, Data points: {{ nn.data }}, Devices working: {{ nn.slaves }}, Network power: {{ nn.power }} data points per iteration</p>

              <p ng-show="worker_slave.power > 0">This device's power: {{ worker_slave.power }} data points per iteration, {{ worker_slave.power / nn.power * 100.0 | number : 1 }} % of total network.</p>

              <p ng-hide="slave_working"> Click 'start training' to collaborate a little of your computing power to train the network.</p>
              <p> Click 'choose or take picture' to classify an image.</p>
              <p> More blah. </p>

              <div ng-hide="public_ready">
                <p>Loading configuration...</p>
                <img src="/static/images/spinner.gif" />

              </div>

              <div ng-show="public_ready">

              <p>

                <button type="button" ng-click="start_work()" ng-hide="slave_working" class="btn btn-default btn-lg">
                  <span class="glyphicon glyphicon-flash" aria-hidden="true"></span>
                  Start training
                </button>

                <div class="well well-sm" ng-show="message_be_gone">
                  <p>Thank you for collaborating. Please keep this window open for awhile.</p>
                  <p>You can take pictures below and find out the network's improvement</p>
                  <button type="button" ng-click="message_be_gone = false" class="btn btn-default">
                    Close
                  </button>
                </div>

              </p>

                <p>
                  <span class="btn btn-default btn-file btn-lg">
                    <input id="picture" name="files" type="file"> 
                    <span class="glyphicon glyphicon-camera"></span> 
                    Choose or take picture
                  </span>
                </p>

                <p>
                    <canvas id="image"></canvas>
                </p>

                <div ng-show="working">
                    <p>Working... <img src="/static/images/spinner.gif" /></p>
                </div>

                <div ng-hide="working">
                    <div ng-show="classify_results">
                        <h4>Results</h4>
                        <p ng-hide="label_added">Click a result to add the image to the network.</p>
                        <p ng-show="label_added">Label and image added to server.</p>
                        <div ng-hide="label_added">
                            <table class="table table-condensed table-hover">
                                <thead>
                                    <tr>
                                        <td width="10%">Index</td>
                                        <td width="30%">Label</td>
                                        <td>Probability</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-ng-repeat="item in classify_results" ng-click="assign_label(item[1])">
                                        <td>{{ item[0] }}</td>
                                        <td>{{ item[1] }}</td>
                                        <td>{{ item[2] }}</td>
                                    </tr>
                                </tbody>
                            </table>

                            <form role="form" name="new_label_form">
                                <div class="row">
                                    <div class="col-xs-5">
                                        <div class="form-group">
                                            <label for="name">Or add with new label:</label>
                                            <input type="text" class="form-control" ng-model="new_label" id="label">
                                        </div>
                                    </div>
                                </div>
                                <!--
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" ng-model="new_label_public"> Add image to public training set
                                    </label>
                                </div>
                                -->
                                <button type="submit" ng-click="add_label()" class="btn btn-default">Add label</button>
                            </form>
                        </div>
                    </div>
                </div>

              </div>

            </div>

        </div>
    </div>
</div>